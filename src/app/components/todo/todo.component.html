<li
  class="text-md mb-3 flex items-center gap-3 rounded-3xl border-2 border-[#00C471] bg-white px-4 py-4 shadow-md"
>
  <button
    (click)="toggleItem(todo.status)"
    class="h-8 w-8 rounded-full border-2 border-dotted border-gray-400 hover:border-[#00C471]"
  >
    @if (todo.status === 'COMPLETED') {
      <span>⭕</span>
    } @else {
      <span></span>
    }
  </button>
  <div class="flex-1 p-2">
    @if (!isEditing) {
      @if (todo.status === 'COMPLETED') {
        <p class="flex-1 text-gray-400 line-through">{{ todo.content }}</p>
      } @else {
        <p class="flex-1">{{ todo.content }}</p>
      }
    } @else {
      <input
        type="text"
        [(ngModel)]="editedInputVal"
        class="flex-1 p-2 border-b outline-none"
      />
    }
    @if (todo.location) {
      <p class="text-xs text-gray-600">📍 {{ todo.location }}</p>
    }
  </div>

  <button type="button" (click)="copyTodoText(todo.content)">🔗</button>
  @if (!isEditing) {
    <button type="button" (click)="changeEditMode()">✏️</button>
    <button type="button" (click)="removeItem(todo.id)">🗑️</button>
  } @else {
    <button
      type="button"
      (click)="editItem()"
      [disabled]="editedInputVal.trim().length <= 0"
      class="disabled:opacity-20"
    >
      ✔️
    </button>
    <button type="button" (click)="isEditing = false">🔁</button>
  }
</li>
